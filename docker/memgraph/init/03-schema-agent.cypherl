CREATE CONSTRAINT IF NOT EXISTS ON (s:Session) ASSERT s.key IS UNIQUE;
CREATE CONSTRAINT IF NOT EXISTS ON (m:Message) ASSERT m.entryId IS UNIQUE;
CREATE CONSTRAINT IF NOT EXISTS ON (e:Entity) ASSERT e.key IS UNIQUE;
CREATE CONSTRAINT IF NOT EXISTS ON (d:AgentDoc) ASSERT d.key IS UNIQUE;

CREATE INDEX IF NOT EXISTS ON :Session(agentId);
CREATE INDEX IF NOT EXISTS ON :Session(updatedAt);
CREATE INDEX IF NOT EXISTS ON :AgentDoc(docType);

CREATE INDEX IF NOT EXISTS ON :Session(key);
CREATE INDEX IF NOT EXISTS ON :Session(sessionId);
CREATE INDEX IF NOT EXISTS ON :Message(sessionKey);
CREATE INDEX IF NOT EXISTS ON :Message(entryId);
CREATE INDEX IF NOT EXISTS ON :Entity(key);
